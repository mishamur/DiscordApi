# DiscordApi
ИНСТРУКЦИЯ ПО УСТАНОВКЕ ПРОЕКТА:
1) Скачать и установить VisualStudio 2022(TargetFramework net6.0), при установке выбрать пакеты .net 
ссылка https://visualstudio.microsoft.com/ru/vs/ выбрать версия community
2) Скачать postgreeSql - https://www.enterprisedb.com/downloads/postgres-postgresql-downloads  , установить (базовая настройка)
проверить что работает служба postgree!
3)Открыть проект (.sln файл), подождать пока скачаются nuget пакеты
4)Назначьте автозапускаемым проектом DiscordApi
5)В Program.cs впишите свой discrod token - подробнее как его получить с 10 пункта
        DiscordClient client = new DiscordClient(new DiscordConfiguration()
            {
                Token = "token", //вот сюда
                TokenType = TokenType.Bot,
                Intents = DiscordIntents.AllUnprivileged
            });
            
6)В \LeagueApi\LeagueStat.cs впишите свой league api_key - подробнее как его получить с 23 пункта
    private const string api_key = "api";
7)В Drawing\DrawingChart.cs укажите директорию в которую будете сохранять картинку
8)В /DiscordApi/ApplicationContext.cs указать логин, пароль, название бд(выбирайте как вам угодно, создаст новую) (26 строка)
9) В visual studio 2022 открыть "Консоль диспетчера пакетов" и вписать команду Update-Database


НАСТРОЙКА БОТА В ДИСКОРДЕ:
10) зарегистрируйтесь в дискоре https://discord.com/login
11) перейдите на сайт дискорда для разработчиков https://discord.com/developers/applications , если попросит логин/пароль, введите
12) нажмите на кнопку в верхем правом углу "new application"
13) в открывшемся окне ввести название приложения
14) в окне настройки приложения который только что открылся, в меню слева переходим на вкладку bot
15) нажимаем на кнопку "Add Bot", подвтерждаем добавление бота к нашему приложению "yes, do it!".
16) нас переводит обратно на вкладку bot, рядом с иконкой бота есть кнопка "reset token", нажимаем, подтверждаем что мы хотим поменять токен
(его в данный момент нет) "yes, do it!".
17) на месте где была кнопка "reset token" появляется наш токен, скопируем его и вставим(см. пункт 5)
18) в меню слева переходим на вкладку OAuth2 => URL Generator
19) в открышемся окне под Scopes есть табличка чекбоксов, ставим галочку рядом с "bot",
ниже появилась табличка с чекбоксами полномочий бота, выбираем следующее:
  General permissions
    •ReadMessages/View Channels
  Text permissions
    •SendMessages
20) в самом низу страницы появился нужный нам URL, копируем его и вставляем в поисковую строку
20.5) перед следующим шагом нужно создать свой дискорд сервер, подробнее об этом можно почитать здесь 
https://support.discord.com/hc/ru/articles/204849977-%D0%9A%D0%B0%D0%BA-%D1%8F-%D0%BC%D0%BE%D0%B3%D1%83-
%D1%81%D0%BE%D0%B7%D0%B4%D0%B0%D1%82%D1%8C-%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80-
21) нам предлагают выбрать сервер на который мы хотим добавить бота, выбираем и нажимаем продолжить
подтверждаем его права нажимаю кнопку автризовать (чек боксы не убирать!) , результатом увидете окно "авторизован"
22) перейдём на наш сервер в дискорде и можем увидеть что наш бот добавлен и сейчас он "не в сети".
Бот настроен и готов к работе
Получение api ключа league of legends
23) переходим на сайт https://developer.riotgames.com/ , логинимся/регестрируемся
24) на главном меню нажимаем на кнопку regenerate api key, проходим капчу
у нас появляется ключ, копируем его и вставляем (см. пункт 6)
!!!ключ даётся только на 24 часа => его нужно будеть обновлять каждые сутки чтобы он оставался рабочим

Все приготовления завершены, поздравляю, запускайте и пользуйтесь
Как пользоваться??
1. Запустите приложение
2. в текстовом канале вашег сервера в дискорде напишите //getwr НикРусскоязычногоИгрока
3. ждёте и смотрите картинку который отправит бот текстовый канал откуда вы писали команду
